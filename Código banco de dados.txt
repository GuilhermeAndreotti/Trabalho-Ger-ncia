drop table if exists emprestimo;
drop table if exists cliente;
drop table if exists livro;

create table if not exists cliente(
id_cliente SERIAL primary key,
nome varchar(45) not null,
sobrenome varchar(60) not null,
CPF varchar(14) not null UNIQUE,
estado char(2) not null,
cidade varchar(50) not null,
bairro varchar (50) not null,
endereco varchar(75) not null
);

create table if not exists livro(
id_livro SERIAL primary key,
titulo varchar(100) not null,
nome_autor varchar(45) not null,
sobrenome_autor varchar(60) not null,
paginas integer not null,
genero varchar(45) not null,
editora varchar(50) not null
);

create table if not exists emprestimo(
id_emprestimo serial primary key ,
id_cliente integer not null,
id_livro integer not null,
data_emprestimo varchar(10) not null,
data_devolucao varchar(10) not null,
CONSTRAINT fk_id_cliente
    FOREIGN KEY (id_cliente)
    REFERENCES cliente (id_cliente)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
CONSTRAINT fk_id_livro
    FOREIGN KEY (id_livro)
    REFERENCES livro (id_livro)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION 
);

insert into cliente(nome,sobrenome,cpf,estado,cidade,bairro,endereco) values ('Eduardo', 'Pereira', '123.456.789-44', 'SP', 'Itaquaquecetuba', 'Vila Maria', 'Rua Diabetes, 185');
insert into cliente(nome,sobrenome,cpf,estado,cidade,bairro,endereco) values ('Nicolas', 'Moraes', '987.987.987-88', 'BH', 'Santa Rosalia', 'Pelourinho ', 'Rua Orlando Bini, 7');
insert into cliente(nome,sobrenome,cpf,estado,cidade,bairro,endereco) values ('Diana', 'Dos Santos', '852.963.741-77', 'RJ', 'Itaboraí', 'Bangu', 'Rua Aibu, 25');
insert into cliente(nome,sobrenome,cpf,estado,cidade,bairro,endereco) values ('André', 'Matos', '486.486.486-88', 'MG', 'Juiz de Fora', 'Altos do Coxipó', 'Rua Amazonas, 885');
insert into cliente(nome,sobrenome,cpf,estado,cidade,bairro,endereco) values ('Ana', 'Mott', '426.426.426-66', 'AC', 'Sena Madureira', 'Aeroporto Velho', 'Rua dos trilhos, 222');

insert into livro (titulo, nome_autor, sobrenome_autor, paginas, genero, editora) values('Percy Jackson, o ladrão de raios', 'Rick', 'Riordan', '331', 'Aventura', 'Intrínseca');
insert into livro (titulo, nome_autor, sobrenome_autor, paginas, genero, editora) values('O diario de um banana', 'Jeff', 'Kinney', '224', 'Comedia', 'VR Editora');
insert into livro (titulo, nome_autor, sobrenome_autor, paginas, genero, editora) values('Magnus Chase, A espada do verão', 'Rick', 'Riordan', '448', 'Ação e Aventura', 'Intrínseca');
insert into livro (titulo, nome_autor, sobrenome_autor, paginas, genero, editora) values('Scrum: a arte de fazer o dobro do trabalho na metade do tempo', 'Jeff', 'Sutherland', '256', 'Educacional', 'Editora Sextante');
insert into livro (titulo, nome_autor, sobrenome_autor, paginas, genero, editora) values('O código Da Vinci', 'Robert', 'Langdon', '432', 'Misterio', 'Editora Arqueiro');

insert into emprestimo (id_cliente, id_livro, data_emprestimo, data_devolucao) values(1,1,'01/05/2022','25/05/2022');
insert into emprestimo (id_cliente, id_livro, data_emprestimo, data_devolucao) values(2,5,'01/04/2022','30/06/2023');
insert into emprestimo (id_cliente, id_livro, data_emprestimo, data_devolucao) values(4,3,'08/05/2022','08/05/2023');
insert into emprestimo (id_cliente, id_livro, data_emprestimo, data_devolucao) values(3,4,'08/09/2021','06/06/2022');
insert into emprestimo (id_cliente, id_livro, data_emprestimo, data_devolucao) values(5,2,'16/12/2020','08/05/2022');


